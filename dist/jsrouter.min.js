!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("window")):"function"==typeof define&&define.amd?define(["window"],t):"object"==typeof exports?exports.jsrouter=t(require("window")):e.jsrouter=t(e.window)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(6),s=r(u),h=n(3),c=r(h),l=n(2),f=n(1),d=function(){function e(){var t=void 0===arguments[0]?{}:arguments[0];a(this,e),this.recognizer=new c["default"],this.handlers={},this.unrecognizedRouteHandler=t.unrecognizedRouteHandler||l.defaultUnrecognizedRouteHandler,this.handleLoad=t.handleLoad||i,this.handleRouteChange=t.handleRouteChange||l.defaultHandleRouteChange,this.handlePopState=t.handlePopState||i,this.navigateState=t.navigateState||l.defaultNavigateState,this.start()}return o(e,[{key:"start",value:function(){s["default"].addEventListener("load",this.handleLoad.bind(this)),s["default"].addEventListener("popstate",this.handlePopState.bind(this)),s["default"].addEventListener("hashchange",this.handleRouteChange.bind(this))}},{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"map",value:function(e){this.recognizer.map(e)}},{key:"currentPath",value:function(){return f.pathFromURL(s["default"].location.hash.split("?")[0])}},{key:"navigate",value:function(e){var t,n=void 0===arguments[1]?this.navigateState():arguments[1];t=f.hasLeadingSlash(e)?"#"+e:"#"+this.currentPath()+e,s["default"].location.hash=t,s["default"].history.replaceState(n,"",t)}},{key:"back",value:function(){s["default"].history.back()}},{key:"forward",value:function(){s["default"].history.forward()}}]),e}();t["default"]=d,e.exports=t["default"]},function(e,t){"use strict";function n(e){return"/"===e.charAt(0)}function r(e){return n(e)?e:"/"+e}function a(e){return"/"!==e.slice(-1)?""+e+"/":e}function i(e){return a(r(e.split("#")[1]||"/"))}Object.defineProperty(t,"__esModule",{value:!0}),t.hasLeadingSlash=n,t.ensureLeadingSlash=r,t.ensureTrailingSlash=a,t.pathFromURL=i},function(e,t,n){"use strict";function r(e,t,n){var r=this.recognizer.recognize(e);if(r)for(var a=0;a<r.length;a++){var i=r[a],o=r.queryParams,u=i.params,s=this.handlers[i.handler],h=s&&s[n];if("function"==typeof h){var c={path:e,queryParams:o,params:u};"enter"===n?c.lastPath=t:c.nextPath=t,h(c)}}else this.unrecognizedRouteHandler(e,t,n)}function a(e,t,n){this.navigate("/")}function i(){return{}}function o(e){var t=u.pathFromURL(e.oldURL),n=u.pathFromURL(e.newURL);r.call(this,t,n,"leave"),r.call(this,n,t,"enter")}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUnrecognizedRouteHandler=a,t.defaultNavigateState=i,t.defaultHandleRouteChange=o;var u=n(1)},function(e,t,n){var r;(function(e){(function(){"use strict";function a(e,t,n){this.path=e,this.matcher=t,this.delegate=n}function i(e){this.routes={},this.children={},this.target=e}function o(e,t,n){return function(r,i){var u=e+r;return i?void i(o(u,t,n)):new a(e+r,t,n)}}function u(e,t,n){for(var r=0,a=0,i=e.length;i>a;a++)r+=e[a].path.length;t=t.substr(r);var o={path:t,handler:n};e.push(o)}function s(e,t,n,r){var a=t.routes;for(var i in a)if(a.hasOwnProperty(i)){var o=e.slice();u(o,i,a[i]),t.children[i]?s(o,t.children[i],n,r):n.call(r,o)}}function h(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){this.string=e}function l(e){this.name=e}function f(e){this.name=e}function d(){}function p(e,t,n){"/"===e.charAt(0)&&(e=e.substr(1));var r=e.split("/"),a=[];n.val="";for(var i=0,o=r.length;o>i;i++){var u,s=r[i];(u=s.match(/^:([^\/]+)$/))?(a.push(new l(u[1])),t.push(u[1]),n.val+="3"):(u=s.match(/^\*([^\/]+)$/))?(a.push(new f(u[1])),n.val+="2",t.push(u[1])):""===s?(a.push(new d),n.val+="1"):(a.push(new c(s)),n.val+="4")}return n.val=+n.val,a}function v(e){this.charSpec=e,this.nextStates=[]}function g(e){return e.sort(function(e,t){return t.specificity.val-e.specificity.val})}function y(e,t){for(var n=[],r=0,a=e.length;a>r;r++){var i=e[r];n=n.concat(i.match(t))}return n}function m(e){this.queryParams=e||{}}function w(e,t,n){for(var r=e.handlers,a=e.regex,i=t.match(a),o=1,u=new m(n),s=0,h=r.length;h>s;s++){for(var c=r[s],l=c.names,f={},d=0,p=l.length;p>d;d++)f[l[d]]=i[o++];u.push({handler:c.handler,params:f,isDynamic:!!l.length})}return u}function x(e,t){return t.eachChar(function(t){e=e.put(t)}),e}function S(e){return e=e.replace(/\+/gm,"%20"),decodeURIComponent(e)}a.prototype={to:function(e,t){var n=this.delegate;if(n&&n.willAddRoute&&(e=n.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},i.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,n,r){var a=new i(t);this.children[e]=a;var u=o(e,a,r);r&&r.contextEntered&&r.contextEntered(t,u),n(u)}};var R=function(e,t){var n=new i;e(o("",n,this.delegate)),s([],n,function(e){t?t(this,e):this.add(e)},this)},C=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],b=new RegExp("(\\"+C.join("|\\")+")","g");c.prototype={eachChar:function(e){for(var t,n=this.string,r=0,a=n.length;a>r;r++)t=n.charAt(r),e({validChars:t})},regex:function(){return this.string.replace(b,"\\$1")},generate:function(){return this.string}},l.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},f.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},d.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},v.prototype={get:function(e){for(var t=this.nextStates,n=0,r=t.length;r>n;n++){var a=t[n],i=a.charSpec.validChars===e.validChars;if(i=i&&a.charSpec.invalidChars===e.invalidChars)return a}},put:function(e){var t;return(t=this.get(e))?t:(t=new v(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,n,r,a=this.nextStates,i=[],o=0,u=a.length;u>o;o++)t=a[o],n=t.charSpec,"undefined"!=typeof(r=n.validChars)?-1!==r.indexOf(e)&&i.push(t):"undefined"!=typeof(r=n.invalidChars)&&-1===r.indexOf(e)&&i.push(t);return i}};var P=Object.create||function(e){function t(){}return t.prototype=e,new t};m.prototype=P({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var L=function(){this.rootState=new v,this.names={}};L.prototype={add:function(e,t){for(var n,r=this.rootState,a="^",i={},o=[],u=[],s=!0,h=0,c=e.length;c>h;h++){var l=e[h],f=[],v=p(l.path,f,i);u=u.concat(v);for(var g=0,y=v.length;y>g;g++){var m=v[g];m instanceof d||(s=!1,r=r.put({validChars:"/"}),a+="/",r=x(r,m),a+=m.regex())}var w={handler:l.handler,names:f};o.push(w)}s&&(r=r.put({validChars:"/"}),a+="/"),r.handlers=o,r.regex=new RegExp(a+"$"),r.specificity=i,(n=t&&t.as)&&(this.names[n]={segments:u,handlers:o})},handlersFor:function(e){var t=this.names[e],n=[];if(!t)throw new Error("There is no route named "+e);for(var r=0,a=t.handlers.length;a>r;r++)n.push(t.handlers[r]);return n},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var n=this.names[e],r="";if(!n)throw new Error("There is no route named "+e);for(var a=n.segments,i=0,o=a.length;o>i;i++){var u=a[i];u instanceof d||(r+="/",r+=u.generate(t))}return"/"!==r.charAt(0)&&(r="/"+r),t&&t.queryParams&&(r+=this.generateQueryString(t.queryParams,n.handlers)),r},generateQueryString:function(e,t){var n=[],r=[];for(var a in e)e.hasOwnProperty(a)&&r.push(a);r.sort();for(var i=0,o=r.length;o>i;i++){a=r[i];var u=e[a];if(null!=u){var s=encodeURIComponent(a);if(h(u))for(var c=0,l=u.length;l>c;c++){var f=a+"[]="+encodeURIComponent(u[c]);n.push(f)}else s+="="+encodeURIComponent(u),n.push(s)}}return 0===n.length?"":"?"+n.join("&")},parseQueryString:function(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var a,i=t[r].split("="),o=S(i[0]),u=o.length,s=!1;1===i.length?a="true":(u>2&&"[]"===o.slice(u-2)&&(s=!0,o=o.slice(0,u-2),n[o]||(n[o]=[])),a=i[1]?S(i[1]):""),s?n[o].push(a):n[o]=a}return n},recognize:function(e){var t,n,r,a,i=[this.rootState],o={},u=!1;if(a=e.indexOf("?"),-1!==a){var s=e.substr(a+1,e.length);e=e.substr(0,a),o=this.parseQueryString(s)}for(e=decodeURI(e),"/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),u=!0),n=0,r=e.length;r>n&&(i=y(i,e.charAt(n)),i.length);n++);var h=[];for(n=0,r=i.length;r>n;n++)i[n].handlers&&h.push(i[n]);i=g(h);var c=h[0];return c&&c.handlers?(u&&"(.+)$"===c.regex.source.slice(-5)&&(e+="/"),w(c,e,o)):void 0}},L.prototype.map=R,L.VERSION="0.1.9";var j=L;n(4).amd?(r=function(){return j}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))):"undefined"!=typeof e&&e.exports?e.exports=j:"undefined"!=typeof this&&(this.RouteRecognizer=j)}).call(this)}).call(t,n(5)(e))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,n){t.exports=e}])});